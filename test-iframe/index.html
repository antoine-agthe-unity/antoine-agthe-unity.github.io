<html>
  <body>
    <div id="console" style="width: 40vw; height: 100vh"></div>
    <script>

      function log(message) {
        var div = document.getElementById("console");
        div.innerHTML = `<p>${message}</p>${div.innerHTML}`;
      }
      
      function receiveMessage(e) {
        var message = `FROM: ${e.origin}: ${e.data}`;
        log(message);
      }
      
      var messageId = 0;
      
      function sendMessage() {
        var message = `Hello fromn child #${messageId++}`;
        parent.postMessage(message, "https://antoine-agthe.github.io");
      }
            
      window.addEventListener("message", receiveMessage, false);
      
      setInterval(sendMessage, 1000);
    </script>
  </body>
</html>
